<!DOCTYPE html>
<!-- saved from url=(0052)https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Caffeをインストールしたった - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"><meta content="#55c500" name="theme-color"><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification"><link href="https://qiita.com/manifest.json" rel="manifest"><link href="https://qiita.com/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml"><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/saved_resource(1)"></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/pixel.js.ダウンロード"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/segmentation.js.ダウンロード"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/segmentation.js.ダウンロード"></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/uwt.js.ダウンロード"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/1469129556533591" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/2040876882868599" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/1733466696949178" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/386990638325508" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/256605841418458" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/262978464137256" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/437265843064161" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/954575148009345" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/996402550503199" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/809797712462041" async=""></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/fbevents.js.ダウンロード"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/f(2).txt"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/f(2).txt"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/f(2).txt"></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/gtm.js.ダウンロード"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/osd.js.ダウンロード"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/amp4ads-host-v0.js.ダウンロード"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/pubads_impl_rendering_2019040101.js.ダウンロード"></script><script type="text/javascript" src="./[12]-Caffeをインストールしたった - Qiita_files/combo" async=""></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/mixpanel-2-latest.min.js.ダウンロード"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/analytics.js.ダウンロード"></script><script async="">window.a1tracker&&a1tracker.ready(function(tracker){var doh="ff9a3577423c8ed5";if(!doh)return;var params={"event":"","url":"","referrer":"","metakeywords":"","callback":""};if(params.url)tracker.setParams(doh,"url",params.url);if(params.referrer)tracker.setParams(doh,"referrer",params.referrer);if(params.metakeywords){var mk=tracker.getParams(doh,"metakeywords");Array.prototype.push.apply(mk,params.metakeywords.split(","));tracker.setParams(doh,"metakeywords",mk)}tracker.setParams(doh,"tagsource","itm_a1common");var callback=params.callback&&typeof window[params.callback]==="function"?function(err,data){if(!err&&data.segments.length>0)window[params.callback](data.segments);return}:function(){};if(params.event)tracker.send(doh,params.event.split(","),callback);else tracker.send(doh,callback)});</script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/tracking.min.js.ダウンロード"></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/saved_resource(2)"></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/ff9a3577423c8ed5_4330.js.ダウンロード"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/td.min.js.ダウンロード"></script><script type="text/javascript" async="" src="./[12]-Caffeをインストールしたった - Qiita_files/f(2).txt"></script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/js"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'AW-935296116');

// Event snippet for qiita remarketing page
gtag('event', 'conversion', {
    'send_to': 'AW-935296116/jvRhCOaj5YYBEPT4_b0D',
    'value': 1.0,
    'currency': 'JPY',
    'aw_remarketing_only': true
});</script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/js(1)"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'AW-878053044');</script><meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="jIhzAHYdH41Iwzv0Msgv6ihLP4VD/4/ts6e6nh6aeMC2jyFAhZXxpamGNikjBwbLz/NP1OoVmPvKsmAoBRyNRg=="><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production.ico"><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png"><link rel="stylesheet" media="all" href="./[12]-Caffeをインストールしたった - Qiita_files/style-0cfac3c510101d478c4dc0c7541b8582.min.css"><script defer="" src="./[12]-Caffeをインストールしたった - Qiita_files/polyfill.min.js.ダウンロード"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/bundle-f7e6fdbdc02a29116c591ac8de6b0b33.min.js.ダウンロード" defer="defer"></script><meta content="summary" name="twitter:card"><meta content="@Qiita" name="twitter:site"><meta property="og:type" content="article"><meta property="og:title" content="Caffeをインストールしたった - Qiita"><meta property="og:image" content="https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png"><meta property="og:description" content="UbuntuでCaffeを導入〜チュートリアルまでのやり方です。

ちなみにMacでのcaffe導入は難しく私も挫折したので、MacではDockerのコンテナ上でやることで同じ手順でできます。

MacでもUbuntuでも***ネイテ..."><meta content="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241" property="og:url"><meta content="Qiita" property="og:site_name"><meta content="564524038" property="fb:admins"><meta content="Ubuntu,DeepLearning,Caffe" name="keywords"><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/js(2)"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'AW-809704461');</script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/js(3)"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'AW-829773019');</script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(3).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(4).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(5).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(6).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(7).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/js(4)"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(8).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(9).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(10).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(11).txt"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    skipStartupTypeset: true,
    showProcessingMessages: false,
    tex2jax: {
      inlineMath: [['$', '$']],
      displayMath: [['$$', '$$']],
      processEscapes: true,
      processEnvironments: false,
      processRefs: false,
      skipTags: ['script','noscript','style','textarea','pre','code','a','h1','h2','h3','h4','h5','h6']
    }
   })</script><script src="./[12]-Caffeをインストールしたった - Qiita_files/gpt.js.ダウンロード"></script><link rel="preload" href="./[12]-Caffeをインストールしたった - Qiita_files/f(12).txt" as="script"><script type="text/javascript" src="./[12]-Caffeをインストールしたった - Qiita_files/f(12).txt"></script><link rel="preload" href="./[12]-Caffeをインストールしたった - Qiita_files/f(13).txt" as="script"><script type="text/javascript" src="./[12]-Caffeをインストールしたった - Qiita_files/f(13).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/pubads_impl_2019040101.js.ダウンロード" async=""></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(14).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(15).txt"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/f(16).txt"></script></head><body><div class="allWrapper"><div data-hyperapp-app="GlobalHeader" data-hyperapp-props="{&quot;unreadNotificationsCount&quot;:null,&quot;realms&quot;:[{&quot;humanName&quot;:&quot;Qiita&quot;,&quot;isCurrentRealm&quot;:true,&quot;isQiita&quot;:true,&quot;isQiitaTeam&quot;:false,&quot;loggedInUser&quot;:null,&quot;teamId&quot;:null,&quot;url&quot;:&quot;https://qiita.com/&quot;}],&quot;teamFindUrl&quot;:&quot;https://teams-center.qiita.com/find_team&quot;,&quot;isTeamOnlyUser&quot;:null,&quot;currentUser&quot;:null}" data-hyperapp-mounted="true"><div class="st-Header" id="globalHeader"><div class="st-Header_container"><div class="st-Header_start"><a class="st-Header_logo mr-1" href="https://qiita.com/"><svg viewBox="0 0 75 25" xmlns="http://www.w3.org/2000/svg"><title>Qiita</title><path d="M24.6 12.2C24.6 6.2 20 0 12.2 0 6.2 0 0 4.6 0 12.4c0 6 4.6 12.2 12.4 12.2 2.5 0 5-.8 7.1-2.3l3.6 3.6 1.6-1.6-3.4-3.4c2.1-2.3 3.3-5.3 3.3-8.7zm-12.4-10c5.7 0 10.2 4.4 10.2 10.1 0 4.9-3.8 10.1-10.1 10.1s-10.1-5.1-10.1-10c0-6.4 5.1-10.2 10-10.2zM30.5 7.1h2.1v17h-2.1zM31.5 4.8c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zM40 4.8c-1 0-1.8-.8-1.8-1.8S39 1.2 40 1.2s1.8.8 1.8 1.8S41 4.8 40 4.8zM39 7.1h2.1v17H39zM53.7 24.4c-3.9 0-6.2-3-6.2-6v-16h2.1v4.7H57v2.1h-7.4v9.3c0 1.9 1.5 3.9 4.1 3.9.7 0 1.4-.2 2-.6l.2-.1 1 1.8-.2.1c-.9.5-2 .8-3 .8zM67.6 24.5c-5.7 0-9.1-4.5-9.1-8.9 0-5.7 4.5-9.1 8.9-9.1 2.3 0 4.1.8 5.4 2.3V7.1h2.1v17h-2.1v-1.9c-1.2 1.5-3 2.3-5.2 2.3zm-.2-15.9c-3.4 0-6.8 2.6-6.8 7 0 3.4 2.6 6.8 7 6.8 2 0 4-.9 5.3-2.5v-8.8c-1.4-1.6-3.3-2.5-5.5-2.5z"></path></svg></a><div><div class="st-Header_realmSelector" tabindex="0"><span class="fa fa-fw fa-caret-down"></span></div><div class="st-Header_dropdown st-RealmSelector"><div class="st-RealmSelector_realms"><a class="st-Header_dropdownItem st-RealmItem" href="https://qiita.com/"><div class="st-RealmItem_statusIcon"><span class="fa fa-fw fa-check"></span></div><div class="st-RealmItem_humanName">Qiita</div></a></div><hr><div class="st-RealmSelector_supplements"><div class="st-RealmSelector_label">ログイン中のチームがありません</div><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem st-RealmSelectorSupplement"><div class="st-RealmSelectorSupplement_icon"><span class="fa fa-fw fa-sign-in"></span></div><div>Qiita:Team にログイン...</div></a></div></div></div><div><div class="st-Header_community" tabindex="0">コミュニティ<span class="fa fa-fw fa-caret-down ml-1of2"></span></div><div class="st-Header_dropdown"><a href="https://qiita.com/users" class="st-Header_dropdownItem"><span class="fa fa-fw fa-users mr-1of2"></span>ユーザー一覧</a><a href="https://qiita.com/organizations" class="st-Header_dropdownItem"><span class="fa fa-fw fa-building-o mr-1of2"></span>Organization一覧</a><a href="https://qiita.com/advent-calendar" class="st-Header_dropdownItem"><span class="fa fa-fw fa-calendar mr-1of2"></span>アドベントカレンダー</a><div class="st-Header_dropdownSeparator"></div><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank"><span class="fa fa-fw fa-comments-o mr-1of2"></span>Qiitadon (β)</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank"><span class="fa fa-fw fa-newspaper-o mr-1of2"></span>Qiita:Zine</a><div class="st-Header_dropdownSeparator"></div><a href="https://help.qiita.com/ja/articles/qiita-community-guideline" class="st-Header_dropdownItem" target="_blank"><span class="fa fa-fw fa-book mr-1of2"></span>コミュニティガイドライン</a><a href="https://help.qiita.com/ja/articles/qiita-article-guideline" class="st-Header_dropdownItem" target="_blank"><span class="fa fa-fw fa-book mr-1of2"></span>良い記事を書くために</a></div></div><form class="st-Header_search" action="https://qiita.com/search" method="get"><span class="fa fa-search"></span><input class="st-Header_searchInput" placeholder="キーワードを入力" type="search" autocomplete="off" name="q" required=""></form><div class="st-Header_searchButton"><span class="fa fa-search"></span></div></div><div class="st-Header_end"><a class="st-Header_signupButton" href="https://qiita.com/signup?redirect_to=%2Fyoyoyo_%2Fitems%2Fed723a6e81c1f4046241">ユーザ登録</a><a class="st-Header_loginLink" href="https://qiita.com/login?redirect_to=%2Fyoyoyo_%2Fitems%2Fed723a6e81c1f4046241">ログイン</a></div><div class="st-Header_overlay"></div><form class="st-Header_searchModal" action="https://qiita.com/search" method="get"><input class="st-Header_searchModalInput" type="text" autocomplete="off" placeholder="キーワードを入力" name="q" required=""></form></div></div></div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/%23%3CQiita::Graph::Result:0x0055758492e3f8%3E","name":"Ubuntu"}}]}</script><script async="" src="./[12]-Caffeをインストールしたった - Qiita_files/qiita_bigmining.js.ダウンロード"></script><div style="display:none"><div class="TagList__label"><span></span><span>Ubuntu</span></div><div class="TagList__label"><span></span><span>DeepLearning</span></div><div class="TagList__label"><span></span><span>Caffe</span></div></div><img style="display:block;margin:0;padding:0;border:0;outline:0;width:0;height:0;line-height:0;" alt="" src="./[12]-Caffeをインストールしたった - Qiita_files/bizmatrix"><div data-hyperapp-app="PersonalPublicArticle" data-hyperapp-props="{&quot;article&quot;:{&quot;body&quot;:&quot;\u003cp\u003eUbuntuでCaffeを導入〜チュートリアルまでのやり方です。\u003c/p\u003e\n\n\u003cp\u003eちなみにMacでのcaffe導入は難しく私も挫折したので、MacではDockerのコンテナ上でやることで同じ手順でできます。\u003c/p\u003e\n\n\u003cp\u003eMacでもUbuntuでも\u003cstrong\u003e\u003cem\u003eネイティブ環境かDockerでやるかで~/.bashrcへのパスの通し方が違うので、注意して読んで下さい。\u003c/em\u003e\u003c/strong\u003e\u003cbr\u003e\n＊ネイティブ環境・・・\u003cstrong\u003e\u003cem\u003e仮想環境でない\u003c/em\u003e\u003c/strong\u003e状態のことです。つまり、普通のubuntuそのままって感じ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;手順\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E6%89%8B%E9%A0%86\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e手順\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003e必要パッケージのインストール\u003c/li\u003e\n\u003cli\u003eOpenCVの設定\u003c/li\u003e\n\u003cli\u003eCUDAの設定\u003c/li\u003e\n\u003cli\u003eCUDNNの設定\u003c/li\u003e\n\u003cli\u003eCaffeのダウンロード\u003c/li\u003e\n\u003cli\u003eCaffeのコンパイル\u003c/li\u003e\n\u003cli\u003eMNISTのチュートリアル\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e【CUDAの設定に関して】Dockerの人はnvidia社が用意しているnvidia/cudaというcuda設定済みのubuntuを使えばここでの設定の必要はないです。docker search　nvidiaで探してみましょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;1-パッケージインストール\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#1-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e1. パッケージインストール\u003c/h1\u003e\n\n\u003cp\u003e以下のコマンドでパッケージをインストールしてください（コピペでおk）。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003eapt update \u003cspan class=\&quot;o\&quot;\u003e\u0026amp;\u0026amp;\u003c/span\u003e apt upgrade\n\napt \u003cspan class=\&quot;nb\&quot;\u003einstall\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e-y\u003c/span\u003e python python-pip python3-pip python-numpy python-scipy python-matplotlib ipython ipython-notebook python-pandas python-sympy python-nose python-tk python-yaml\n\napt \u003cspan class=\&quot;nb\&quot;\u003einstall\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e-y\u003c/span\u003e build-essential cmake git pkg-config libprotobuf-dev libleveldb-dev libsnappy-dev libhdf5-serial-dev protobuf-compiler libatlas-base-dev libgflags-dev libgoogle-glog-dev liblmdb-dev libhdf5-dev wget emacs vim gedit \u003cspan class=\&quot;nb\&quot;\u003esudo\n\n\u003c/span\u003eapt \u003cspan class=\&quot;nb\&quot;\u003einstall\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e-y\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e--no-install-recommends\u003c/span\u003e libboost-all-dev\n\npip \u003cspan class=\&quot;nb\&quot;\u003einstall\u003c/span\u003e —-upgrade pip\n\npip \u003cspan class=\&quot;nb\&quot;\u003einstall \u003c/span\u003eopencv-python scikit-image protobuf easydict cython\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;2-opencvの導入c用\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#2-opencv%E3%81%AE%E5%B0%8E%E5%85%A5c%E7%94%A8\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e2. OpenCVの導入(C++用)　\u003c/h1\u003e\n\n\u003cp\u003e上で apt instal opencv-python をしているが、これはpython用のopencvなので、C++用のopencvを別で入れなければいけないみたいです。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はネイティブ環境（Docker上ではない環境）でやって下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eまずどこか好きな（作業する）ディレクトリに移動（ホームしたにdevとか適当にディレクトリ作った方がいいかも）　\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e$HOME --- dev\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e次に下のコマンドでOpenCVを取得します。(OpenCVのバージョンはopencv-#.#.#の#の部分を変えればおkです)\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewget \u003cspan class=\&quot;nt\&quot;\u003e-O\u003c/span\u003e opencv-3.3.0.tar.gz https://github.com/opencv/opencv/archive/3.3.0.tar.gz\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで展開して、そこに移動します。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003etar \u003c/span\u003ezxvf opencv-3.3.0.tar.gz\n\n\u003cspan class=\&quot;nb\&quot;\u003ecd \u003c/span\u003eopencv-3.3.0\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの時点で以下のディレクトリ構造になるはずです。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e$HOME --- dev --- opencv-3.3.0\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ebuildディレクトリを作って、そこに移動します。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003emkdir \u003c/span\u003ebuild\n\n\u003cspan class=\&quot;nb\&quot;\u003ecd \u003c/span\u003ebuild\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eあとはcmakeしてmakeでコンパイルするだけです。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はここからDocker上でやって下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ecmake .. \u003cspan class=\&quot;o\&quot;\u003e(\u003c/span\u003eもしくは　cmake .. \u003cspan class=\&quot;nt\&quot;\u003e-DWITH_CUDA\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003eoff\u003cspan class=\&quot;o\&quot;\u003e)\u003c/span\u003e\n\nmake \u003cspan class=\&quot;nt\&quot;\u003e-j8\u003c/span\u003e\n\nmake \u003cspan class=\&quot;nb\&quot;\u003einstall\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;3-cudaのダウンロード\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#3-cuda%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e3. CUDAのダウンロード\u003c/h1\u003e\n\n\u003cp\u003eこれはpy-faster-rcnnは必要で、普通のcaffeは必要ないと思いますが、一応。\u003cbr\u003e\nCUDAをダウンロードする必要があります。\u003cbr\u003e\nCUDAの配布サイトからubuntu用cudaを取って、ホームのどっかにおく。\u003cbr\u003e\n　Linux -\u0026gt; x86_64 -\u0026gt; Ubuntu -\u0026gt; 16.04 -\u0026gt; deb(network)\u003cbr\u003e\n の順番に選択。あとはサイト上に指示が出るので、その通りにやってください。\u003c/p\u003e\n\n\u003cp\u003e最終的に /usr/local/にcudaのディレクトリができると思うので、次に~/.bashrcを開いて、一番下に次のコードを追加してください！（CUDAのパスを指定します）\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はDocker上の~/.bashrcに書いて下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003eexport \u003c/span\u003e\u003cspan class=\&quot;nv\&quot;\u003eCUDAHOME\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e/usr/local/cuda\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;4-cudnnの導入\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#4-cudnn%E3%81%AE%E5%B0%8E%E5%85%A5\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e4. CUDNNの導入\u003c/h1\u003e\n\n\u003cp\u003ecudnnの導入方法を調べたのでまとめます。\u003cbr\u003e\n\u003ca href=\&quot;https://developer.nvidia.com/rdp/cudnn-download\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttps://developer.nvidia.com/rdp/cudnn-download\u003c/a\u003e のサイトの\u003cstrong\u003e\u003cem\u003eDownload cuDNN v5.1 (Jan 20, 2017), for CUDA 8.0\u003c/em\u003e\u003c/strong\u003e　から \u003cstrong\u003e\u003cem\u003ecuDNN v5.1 Library for Linux\u003c/em\u003e\u003c/strong\u003e をダウンロードする。(CUDAのバージョンをちゃんと合わせて！！)\u003cbr\u003e\n-- あまりバージョンが新しいとtensorfowとかのバージョンが合わないとか出そうなのであえて古いバージョンで\u003cbr\u003e\n-- py-faster-rcnnのときはcudnn-v4.0じゃないとmakeできないので、\u003cstrong\u003e\u003cem\u003eDownload cuDNN v4 (Feb 10, 2016), for CUDA 7.0 and later\u003c/em\u003e\u003c/strong\u003e　から　\u003cstrong\u003e\u003cem\u003ecuDNN v4 Library for Linux (updated October 18th,2016)\u003c/em\u003e\u003c/strong\u003e をダウンロードして下さい\u003cbr\u003e\nこのtarファイルを下記コマンドで展開する。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はネイティブ環境でやって下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003etar \u003c/span\u003exzvf cudnn-7.0-linux-x64-v4.0-prod.tgz\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eんで、下記コマンドでcudnnのファイルをcudaにコピーするといいらしいです。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はDockerでやって下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003esudo cp\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e-a\u003c/span\u003e cuda/lib64/\u003cspan class=\&quot;k\&quot;\u003e*\u003c/span\u003e /usr/local/cuda-8.0/lib64/\n\u003cspan class=\&quot;nb\&quot;\u003esudo cp\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e-a\u003c/span\u003e cuda/include/\u003cspan class=\&quot;k\&quot;\u003e*\u003c/span\u003e /usr/local/cuda-8.0/include/\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e最後にldconfigをする。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003esudo \u003c/span\u003eldconfig\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでOKです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;5-caffeのダウンロード\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#5-caffe%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e5. Caffeのダウンロード\u003c/h1\u003e\n\n\u003cp\u003ecaffeをgitからとってきます。自分の用途に合わせてどっちかを取って下さい（もしくは自分の使いたいcaffe）。　caffeは今回はホーム下に置きましょう。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はネイティブ環境でgit cloneして下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003egit clone \u003cspan class=\&quot;nt\&quot;\u003e--recursive\u003c/span\u003e https://github.com/BVLC/caffe.git\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eつまりこんなディレクトリ構造になります。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e$HOME --- dev --- opencv-3.3.0\n       |- caffe (py-faster-rcnn)\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;6-caffeのコンパイル\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#6-caffe%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e6. Caffeのコンパイル\u003c/h1\u003e\n\n\u003cp\u003eCaffeはコンパイル(make)が必要なのでやります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;makefileconfigの設定\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#makefileconfig%E3%81%AE%E8%A8%AD%E5%AE%9A\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eMakefile.configの設定\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003cem\u003eDockerの人はネイティブ環境でやって下さい。\u003c/em\u003e\u003c/strong\u003e\u003cbr\u003e\nまずcaffeのディレクトリに移動します。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nv\&quot;\u003e$HOME\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e---\u003c/span\u003e caffe\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e次に、Makefile.configファイルを作ります。これがmakeで必要な設定をするファイルです。\u003cbr\u003e\nMakefile.config.exampleというファイルをMakefile.configという名前に\u003cstrong\u003e\u003cem\u003ecp\u003c/em\u003e\u003c/strong\u003eします。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003ecp \u003c/span\u003eMakefile.config.example Makefile.config\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで、次にMakefile.configの中身を編集する必要があります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eCUDNNを使う時\u003c/strong\u003eは CUDNN:= 1　をアンコメント\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eCPUのみで使う時\u003c/strong\u003eは CPU_ONLY:= 1　をアンコメント\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eOpenCV-3.で使う時\u003c/strong\u003eは OPENCV_VERSION:= 3 をアンコメント\u003c/li\u003e\n\u003cli\u003eWITH_PYTHON_LAYER:= 1をアンコメント\u003c/li\u003e\n\u003cli\u003eINCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include 　\u003cstrong\u003e/usr/include/hdf5/serial\u003c/strong\u003e に書き直す\u003c/li\u003e\n\u003cli\u003eLIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib　\u003cstrong\u003e/usr/lib/x86_64-linux-gnu/hdf5/serial\u003c/strong\u003e　に書き直す\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eDockerの人は\u003c/strong\u003enumpyのパスがネイティブとは違うので、\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ePYTHON_INCLUDE := /usr/include/python2.7 \\\n        /usr/lib/python2.7/dist-packages/numpy/core/include\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eを\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ePYTHON_INCLUDE := /usr/include/python2.7 \\\n        /usr/local/lib/python2.7/dist-packages/numpy/core/include\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eに書き直して下さい。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eCUDA_ARCHに関して\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003eCUDA_ARCH := -gencode arch=compute_20,code=sm_20 \\\n        -gencode arch=compute_20,code=sm_21 \\\n        -gencode arch=compute_30,code=sm_30 \\\n        -gencode arch=compute_35,code=sm_35 \\\n        -gencode arch=compute_50,code=sm_50 \\\n        -gencode arch=compute_50,code=compute_50\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003emake中にwarningが出まくったらcompute_20とかが原因なので、消してこんな風にして下さい。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003eCUDA_ARCH := -gencode arch=compute_30,code=sm_30 \\\n        -gencode arch=compute_35,code=sm_35 \\\n        -gencode arch=compute_50,code=sm_50 \\\n        -gencode arch=compute_50,code=compute_50\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;makeでコンパイル\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#make%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eMakeでコンパイル\u003c/h2\u003e\n\n\u003cp\u003eで次のコマンドでmakeします。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はDocker上でmakeして下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003emake all \u003cspan class=\&quot;nt\&quot;\u003e-j16\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e大体一発でいくことは滅多にありません。（もしできたらすごくラッキーです！）もしできなかったら「make エラー集」を見てみてください！\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;python用caffeのmake\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#python%E7%94%A8caffe%E3%81%AEmake\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003epython用caffeのmake\u003c/h2\u003e\n\n\u003cp\u003e上のmakeをあくまでC++用です。次にpython用にmakeが必要です。\u003cbr\u003e\n次のコマンドで一発です！\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はDocker上でmakeして下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003emake pycaffe\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eただし、エラーが出たら「make pycaffeエラー集」を見てみてください！\u003c/p\u003e\n\n\u003cp\u003e次の表示が出れば終了です！！\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ecaffe# make pycaffe\nCXX/LD \u003cspan class=\&quot;nt\&quot;\u003e-o\u003c/span\u003e python/caffe/_caffe.so python/caffe/_caffe.cpp\n\u003cspan class=\&quot;nb\&quot;\u003etouch \u003c/span\u003epython/caffe/proto/__init__.py\nPROTOC \u003cspan class=\&quot;o\&quot;\u003e(\u003c/span\u003epython\u003cspan class=\&quot;o\&quot;\u003e)\u003c/span\u003e src/caffe/proto/caffe.proto\ncaffe# \n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eんで、~/.bashrc ファイルに次のを追加してcaffeのパスを通します。\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eただしこっちはネイティブ環境でやっている人です。Dockerのコンテナ上でやっている人は下のを読んで下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003eexport \u003c/span\u003e\u003cspan class=\&quot;nv\&quot;\u003ePYTHONPATH\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e~/caffe/python:\u003cspan class=\&quot;nv\&quot;\u003e$PYTHONPATH\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003cem\u003eただしDockerでやっている人は、~/.bashrcを開いて、次のコードを追加して下さい。\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003eexport \u003c/span\u003e\u003cspan class=\&quot;nv\&quot;\u003ePYTHONPATH\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;sb\&quot;\u003e`\u003c/span\u003e\u003cspan class=\&quot;nb\&quot;\u003epwd\u003c/span\u003e\u003cspan class=\&quot;sb\&quot;\u003e`\u003c/span\u003e/caffe/python:\u003cspan class=\&quot;nv\&quot;\u003e$PYTHONPATH\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそして一度ホームに戻って、sourceコマンドでパスを反映させます。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nb\&quot;\u003ecd\u003c/span\u003e ~\n\u003cspan class=\&quot;nb\&quot;\u003esource\u003c/span\u003e .bashrc\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;caffeの動作確認\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#caffe%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003ecaffeの動作確認\u003c/h2\u003e\n\n\u003cp\u003e最後にcaffeの動作確認しましょう　pythonを起動して\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ehoge# python\n\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u003c/span\u003e import caffe\n\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなにもエラーが出なければ成功！！！です　おめでとうございます！\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;エラー集\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%82%A8%E3%83%A9%E3%83%BC%E9%9B%86\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eエラー集\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;make-エラー\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#make-%E3%82%A8%E3%83%A9%E3%83%BC\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003emake エラー\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e1. /usr/bin/ld: cannot find -lcblas\u003c/strong\u003e\u003cbr\u003e\n - apt install -y libatlas-base-dev で解決\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e2. Cannot find hdf5.so\u003c/strong\u003e\u003cbr\u003e\n\u003cstrong\u003e\u003cem\u003eDockerの人はDocker上でやって下さい。\u003c/em\u003e\u003c/strong\u003e\u003cbr\u003e\n - まず　apt install -y libhdf5-dev\u003cbr\u003e\n - 次に　cd /usr/lib/x86_64-linux-gnu\u003cbr\u003e\n - この中にlibhdf5_serial.so.#.#.# と libhdf5_serial_hl.so.#.#.# ファイルがあるはずなので、　それぞれに次のコマンドでリンクを貼る\u003cbr\u003e\n - sudo ln -s libhdf5_serial.so.#.#.# libhdf5.so\u003cbr\u003e\n - sudo ln -s libhdf5_serial_hl.so.#.#.# libhdf5_hl.so\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e3.undefined reference cv:imencode()\u003c/strong\u003e\u003cbr\u003e\n古いcaffeだとopencvのバージョンが3を指定できません（OPENCV-VERSION:=3　がない）\u003cbr\u003e\nこれでmakeすると次のエラーが出る。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003eundefined reference cv:imencode\u003cspan class=\&quot;o\&quot;\u003e()\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれは Makefile のLIBRALIESに opencv_imgcodecs を追加すると多分makeが通るようになるはずです。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e4. cannot find cublas_v2.h\u003c/strong\u003e\u003cbr\u003e\nsrc/caffe/parallel.cpp:2:26: fatal error: cuda_runtime.h: そのようなファイルやディレクトリはありません\u003cbr\u003e\n #include \u003cbr\u003e\n                          ^\u003cbr\u003e\ncompilation terminated.\u003cbr\u003e\nmake: *** [.build_release/src/caffe/parallel.o] エラー 1\u003cbr\u003e\nmake: *** 未完了のジョブを待っています....\u003cbr\u003e\nIn file included from ./include/caffe/common.hpp:19:0,\u003cbr\u003e\n                 from ./include/caffe/blob.hpp:8,\u003cbr\u003e\n                 from src/caffe/blob.cpp:4:\u003cbr\u003e\n./include/caffe/util/device_alternate.hpp:34:23: fatal error: cublas_v2.h: そのようなファイルやディレクトリはありません\u003cbr\u003e\n #include \u003c/p\u003e\n\n\u003cp\u003eなんか急にこんなエラーが出ました。これはMakefile.configのBLAS_INCLUDEとBLAS_LIBをこんな感じにして下さい。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003eBLAS_INCLUDE := /usr/local/cuda/targets/x86_64-linux/include\nBLAS_LIB := /usr/local/cuda/targets/x86_64-linux/lib\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでコンパイルが通ると思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;make-pycaffe-エラー\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#make-pycaffe-%E3%82%A8%E3%83%A9%E3%83%BC\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003emake pycaffe エラー\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e1.多分よく出るエラー\u003c/strong\u003e\u003cbr\u003e\nCXX/LD -o python/caffe/\u003cem\u003ecaffe.so python/caffe/_caffe.cpp\u003cbr\u003e\npython/caffe/_caffe.cpp:11:31: fatal error: numpy/arrayobject.h: No such file or directory compilation terminated.\u003cbr\u003e\nMakefile:489: recipe for target &#39;python/caffe/\u003c/em\u003ecaffe.so&#39; failed\u003cbr\u003e\nmake: *** [python/caffe/_caffe.so] Error 1\u003c/p\u003e\n\n\u003cp\u003eようはMakefile.configで指定したnumpyのパスが通ってないってことです。\u003cbr\u003e\npythonを起動して次のコマンドでnumpyの位置を調べましょう。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e:~ :\u003cspan class=\&quot;nv\&quot;\u003e$ \u003c/span\u003epython\nPython 2.7.13 \u003cspan class=\&quot;o\&quot;\u003e(\u003c/span\u003edefault, Apr  4 2017, 08:47:57\u003cspan class=\&quot;o\&quot;\u003e)\u003c/span\u003e \n\u003cspan class=\&quot;o\&quot;\u003e[\u003c/span\u003eGCC 4.2.1 Compatible Apple LLVM 8.1.0 \u003cspan class=\&quot;o\&quot;\u003e(\u003c/span\u003eclang-802.0.38\u003cspan class=\&quot;o\&quot;\u003e)]\u003c/span\u003e on darwin\nType \u003cspan class=\&quot;s2\&quot;\u003e\&quot;help\&quot;\u003c/span\u003e, \u003cspan class=\&quot;s2\&quot;\u003e\&quot;copyright\&quot;\u003c/span\u003e, \u003cspan class=\&quot;s2\&quot;\u003e\&quot;credits\&quot;\u003c/span\u003e or \u003cspan class=\&quot;s2\&quot;\u003e\&quot;license\&quot;\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efor \u003c/span\u003emore information.\n\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e \n\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e import numpy\n\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e numpy.__file__\n\u003cspan class=\&quot;s1\&quot;\u003e&#39;/usr/local/lib/python2.7/site-packages/numpy/__init__.pyc&#39;\u003c/span\u003e\n\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで/usr/local/libの中にあることが分かります。Makefile.configの中に\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ePYTHON_INCLUDE := /usr/include/python2.7 \\\n        /usr/lib/python2.7/dist-packages/numpy/core/include\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eがあると思うので、２行目の\u003cstrong\u003e/usr/lib\u003c/strong\u003eを\u003cstrong\u003e/usr/local/lib\u003c/strong\u003eに書き直してください。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ePYTHON_INCLUDE := /usr/include/python2.7 \\\n        /usr/local/lib/python2.7/dist-packages/numpy/core/include\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでOKです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;7-mnistのチュートリアル\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#7-mnist%E3%81%AE%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e7. MNISTのチュートリアル\u003c/h1\u003e\n\n\u003cp\u003ecaffeではLeNetを使ったMNISTのチュートリアルがあるので、最後に動作確認も兼ねて動かしてみましょう。\u003c/p\u003e\n\n\u003cp\u003eまずcaffeディレクトリに移動します。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ehoge# cd caffe\nhoge/caffe# \n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここからコマンドを３つ打つだけです！\u003cbr\u003e\n次にMNISTデータを取得します。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e./data/mnist/get_mnist.sh\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれをLMDBに変換します。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e./examples/mnist/create_lmdb.sh\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e最後に学習させます。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e./examples/mnist/train_lenet.sh\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでaccuracyがどんどん上がって最終的に0.98ぐらいになれば学習がうまくいってます。\u003cbr\u003e\nもしaccuracyが上がらずに上下してるだけであれば、CUDNNがうまくいってないことが考えられます。Makefile.configのCUDNN:=1をコメントアウトしてmakeしなおして見て下さい。\u003c/p\u003e\n&quot;,&quot;createdAt&quot;:&quot;2017-10-21T01:45:18Z&quot;,&quot;elapsedYearsFromUpdatedAt&quot;:0,&quot;isDeprecated&quot;:false,&quot;isDestroyableByViewer&quot;:false,&quot;isEditRequestSendableByViewer&quot;:true,&quot;isLikableByViewer&quot;:true,&quot;isLikedByViewer&quot;:false,&quot;isPublic&quot;:true,&quot;isSlide&quot;:false,&quot;isStockableByViewer&quot;:true,&quot;isStockedByViewer&quot;:false,&quot;isUpdatableByViewer&quot;:false,&quot;isUpdated&quot;:true,&quot;likesCount&quot;:13,&quot;originalId&quot;:533825,&quot;title&quot;:&quot;Caffeをインストールしたった&quot;,&quot;toc&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%89%8B%E9%A0%86\&quot;\u003e手順\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#1-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\&quot;\u003e1. パッケージインストール\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#2-opencv%E3%81%AE%E5%B0%8E%E5%85%A5c%E7%94%A8\&quot;\u003e2. OpenCVの導入(C++用)　\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#3-cuda%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003e3. CUDAのダウンロード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#4-cudnn%E3%81%AE%E5%B0%8E%E5%85%A5\&quot;\u003e4. CUDNNの導入\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#5-caffe%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003e5. Caffeのダウンロード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#6-caffe%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB\&quot;\u003e6. Caffeのコンパイル\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#makefileconfig%E3%81%AE%E8%A8%AD%E5%AE%9A\&quot;\u003eMakefile.configの設定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#make%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB\&quot;\u003eMakeでコンパイル\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#python%E7%94%A8caffe%E3%81%AEmake\&quot;\u003epython用caffeのmake\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#caffe%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\&quot;\u003ecaffeの動作確認\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%A8%E3%83%A9%E3%83%BC%E9%9B%86\&quot;\u003eエラー集\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#make-%E3%82%A8%E3%83%A9%E3%83%BC\&quot;\u003emake エラー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#make-pycaffe-%E3%82%A8%E3%83%A9%E3%83%BC\&quot;\u003emake pycaffe エラー\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#7-mnist%E3%81%AE%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB\&quot;\u003e7. MNISTのチュートリアル\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;totalPv&quot;:13760,&quot;updatedAt&quot;:&quot;2018-05-13T04:45:50Z&quot;,&quot;uuid&quot;:&quot;ed723a6e81c1f4046241&quot;,&quot;adventCalendarItem&quot;:null,&quot;author&quot;:{&quot;description&quot;:&quot;年収2000万プレーヤーになりたい両生類と爬虫類がすき\r\nくだらないことばっかりやって最近githubに移行中&quot;,&quot;name&quot;:&quot;Yoshito Nagaoka&quot;,&quot;profileImageUrl&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/192361/profile-images/1547531994&quot;,&quot;urlName&quot;:&quot;yoyoyo_&quot;,&quot;isFollowedByViewer&quot;:false,&quot;isFollowableByViewer&quot;:true,&quot;websiteUrl&quot;:&quot;https://github.com/yoyoyo-yo&quot;,&quot;organizations&quot;:{&quot;edges&quot;:[]}},&quot;tags&quot;:[{&quot;name&quot;:&quot;Ubuntu&quot;,&quot;urlName&quot;:&quot;ubuntu&quot;},{&quot;name&quot;:&quot;DeepLearning&quot;,&quot;urlName&quot;:&quot;deeplearning&quot;},{&quot;name&quot;:&quot;Caffe&quot;,&quot;urlName&quot;:&quot;caffe&quot;}],&quot;followingLikers&quot;:{&quot;edges&quot;:[]},&quot;comments&quot;:{&quot;totalCount&quot;:0}},&quot;viewer&quot;:null,&quot;analyticsTrackingId&quot;:null,&quot;y1test&quot;:false}" data-hyperapp-mounted="true"><div class="p-items" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="p-items_wrapper"><div class="p-items_container"><div class="it-Actions p-items_stickyMenu"><div class="it-Actions_item it-Actions_item-like likable"><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241/likers" class="it-Actions_likeCount">13</a><button><i class="fa fa-fw fa-thumbs-up"></i></button></div><div class="it-Actions_item it-Actions_item-stock"><button><span class="fa fa-folder-open"></span></button></div><div class="it-Actions_jumpToCommentButton"><div class="it-Actions_commentCount">0</div><div class="fa fa-fw fa-comment"></div></div><div class="it-Actions_shareButton it-Actions_shareButton-twitter"><span class="fa fa-twitter"></span></div><div class="it-Actions_shareButton it-Actions_shareButton-facebook"><span class="fa fa-facebook"></span></div></div><div class="p-items_main"><div class="p-items_article"><div class="it-Header"><div class="u-flex-center-between mb-3"><div class="it-Header_info"><div class="it-Header_author"><a href="https://qiita.com/yoyoyo_"><img src="./[12]-Caffeをインストールしたった - Qiita_files/1547531994" alt="yoyoyo_" class="it-Header_authorImage"></a><a href="https://qiita.com/yoyoyo_" class="it-Header_authorName">@yoyoyo_</a></div><div class="it-Header_time"><span><meta content="2017-10-21T01:45:18Z" itemprop="datePublished"><time datetime="2018-05-13T04:45:50Z" itemprop="dateModified">2018年05月13日に更新</time></span></div><div class="it-Header_meta"><div class="it-Header_manipulate"><div class="it-Header_dropdown"><span class="it-Header_dropdownToggle" tabindex="0"><span class="fa fa-ellipsis-h fa-lg"></span></span><div class="st-Dropdown right"><div><div class="it-Header_dropdown-title">記事の改善</div><a href="https://qiita.com/drafts/ed723a6e81c1f4046241/edit" class="st-Dropdown_item"><span class="fa fa-fw fa-send pr-1"></span>編集リクエストを送る</a><div class="st-Dropdown_separator"></div></div><div class="it-Header_dropdown-title">記事の情報</div><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241/revisions" class="st-Dropdown_item"><span class="fa fa-fw fa-history pr-1"></span>編集履歴</a><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241/patches" class="st-Dropdown_item"><span class="fa fa-fw fa-inbox pr-1"></span>編集リクエスト一覧</a><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241/likers" class="st-Dropdown_item"><span class="fa fa-fw fa-thumbs-up pr-1"></span>いいねしたユーザ一覧</a><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241.md" class="st-Dropdown_item"><span class="fa fa-fw fa-file-text-o pr-1"></span>Markdown で本文を見る</a><div class="st-Dropdown_separator"></div><div class="st-Dropdown_item"><span class="fa fa-fw fa-flag pr-1"></span>問題がある記事を報告する</div></div></div></div></div></div></div><h1 class="it-Header_title" itemprop="headline">Caffeをインストールしたった</h1><div class="it-Tags"><a href="https://qiita.com/tags/ubuntu" class="it-Tags_item"><span>Ubuntu</span></a><a href="https://qiita.com/tags/deeplearning" class="it-Tags_item"><span>DeepLearning</span></a><a href="https://qiita.com/tags/caffe" class="it-Tags_item"><span>Caffe</span></a></div></div><div class="it-ActionsMobile it-ActionsMobile-disableSticky"><div class="it-ActionsMobile_like likable"><button><span class="fa fa-fw fa-thumbs-up"></span><span>13</span></button></div><div class="it-ActionsMobile_stock"><button><span class="fa fa-folder-open"></span></button></div></div><section class="it-MdContent" itemprop="articleBody"><div id="item-ed723a6e81c1f4046241"><p>UbuntuでCaffeを導入〜チュートリアルまでのやり方です。</p>

<p>ちなみにMacでのcaffe導入は難しく私も挫折したので、MacではDockerのコンテナ上でやることで同じ手順でできます。</p>

<p>MacでもUbuntuでも<strong><em>ネイティブ環境かDockerでやるかで~/.bashrcへのパスの通し方が違うので、注意して読んで下さい。</em></strong><br>
＊ネイティブ環境・・・<strong><em>仮想環境でない</em></strong>状態のことです。つまり、普通のubuntuそのままって感じ。</p>

<h1>
<span id="手順" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>手順</h1>

<ol>
<li>必要パッケージのインストール</li>
<li>OpenCVの設定</li>
<li>CUDAの設定</li>
<li>CUDNNの設定</li>
<li>Caffeのダウンロード</li>
<li>Caffeのコンパイル</li>
<li>MNISTのチュートリアル</li>
</ol>

<p>【CUDAの設定に関して】Dockerの人はnvidia社が用意しているnvidia/cudaというcuda設定済みのubuntuを使えばここでの設定の必要はないです。docker search　nvidiaで探してみましょう。</p>

<h1>
<span id="1-パッケージインストール" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#1-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>1. パッケージインストール</h1>

<p>以下のコマンドでパッケージをインストールしてください（コピペでおk）。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>apt update <span class="o">&amp;&amp;</span> apt upgrade

apt <span class="nb">install</span> <span class="nt">-y</span> python python-pip python3-pip python-numpy python-scipy python-matplotlib ipython ipython-notebook python-pandas python-sympy python-nose python-tk python-yaml

apt <span class="nb">install</span> <span class="nt">-y</span> build-essential cmake git pkg-config libprotobuf-dev libleveldb-dev libsnappy-dev libhdf5-serial-dev protobuf-compiler libatlas-base-dev libgflags-dev libgoogle-glog-dev liblmdb-dev libhdf5-dev wget emacs vim gedit <span class="nb">sudo

</span>apt <span class="nb">install</span> <span class="nt">-y</span> <span class="nt">--no-install-recommends</span> libboost-all-dev

pip <span class="nb">install</span> —-upgrade pip

pip <span class="nb">install </span>opencv-python scikit-image protobuf easydict cython
</pre></div></div>

<h1>
<span id="2-opencvの導入c用" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#2-opencv%E3%81%AE%E5%B0%8E%E5%85%A5c%E7%94%A8"><i class="fa fa-link"></i></a>2. OpenCVの導入(C++用)　</h1>

<p>上で apt instal opencv-python をしているが、これはpython用のopencvなので、C++用のopencvを別で入れなければいけないみたいです。<br>
<strong><em>Dockerの人はネイティブ環境（Docker上ではない環境）でやって下さい。</em></strong></p>

<p>まずどこか好きな（作業する）ディレクトリに移動（ホームしたにdevとか適当にディレクトリ作った方がいいかも）　</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>$HOME --- dev
</pre></div></div>

<p>次に下のコマンドでOpenCVを取得します。(OpenCVのバージョンはopencv-#.#.#の#の部分を変えればおkです)</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>wget <span class="nt">-O</span> opencv-3.3.0.tar.gz https://github.com/opencv/opencv/archive/3.3.0.tar.gz
</pre></div></div>

<p>で展開して、そこに移動します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">tar </span>zxvf opencv-3.3.0.tar.gz

<span class="nb">cd </span>opencv-3.3.0
</pre></div></div>

<p>この時点で以下のディレクトリ構造になるはずです。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>$HOME --- dev --- opencv-3.3.0
</pre></div></div>

<p>buildディレクトリを作って、そこに移動します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">mkdir </span>build

<span class="nb">cd </span>build
</pre></div></div>

<p>あとはcmakeしてmakeでコンパイルするだけです。<br>
<strong><em>Dockerの人はここからDocker上でやって下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>cmake .. <span class="o">(</span>もしくは　cmake .. <span class="nt">-DWITH_CUDA</span><span class="o">=</span>off<span class="o">)</span>

make <span class="nt">-j8</span>

make <span class="nb">install</span>
</pre></div></div>

<h1>
<span id="3-cudaのダウンロード" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#3-cuda%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>3. CUDAのダウンロード</h1>

<p>これはpy-faster-rcnnは必要で、普通のcaffeは必要ないと思いますが、一応。<br>
CUDAをダウンロードする必要があります。<br>
CUDAの配布サイトからubuntu用cudaを取って、ホームのどっかにおく。<br>
　Linux -&gt; x86_64 -&gt; Ubuntu -&gt; 16.04 -&gt; deb(network)<br>
 の順番に選択。あとはサイト上に指示が出るので、その通りにやってください。</p>

<p>最終的に /usr/local/にcudaのディレクトリができると思うので、次に~/.bashrcを開いて、一番下に次のコードを追加してください！（CUDAのパスを指定します）<br>
<strong><em>Dockerの人はDocker上の~/.bashrcに書いて下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">CUDAHOME</span><span class="o">=</span>/usr/local/cuda
</pre></div></div>

<h1>
<span id="4-cudnnの導入" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#4-cudnn%E3%81%AE%E5%B0%8E%E5%85%A5"><i class="fa fa-link"></i></a>4. CUDNNの導入</h1>

<p>cudnnの導入方法を調べたのでまとめます。<br>
<a href="https://developer.nvidia.com/rdp/cudnn-download" class="autolink" rel="nofollow noopener" target="_blank">https://developer.nvidia.com/rdp/cudnn-download</a> のサイトの<strong><em>Download cuDNN v5.1 (Jan 20, 2017), for CUDA 8.0</em></strong>　から <strong><em>cuDNN v5.1 Library for Linux</em></strong> をダウンロードする。(CUDAのバージョンをちゃんと合わせて！！)<br>
-- あまりバージョンが新しいとtensorfowとかのバージョンが合わないとか出そうなのであえて古いバージョンで<br>
-- py-faster-rcnnのときはcudnn-v4.0じゃないとmakeできないので、<strong><em>Download cuDNN v4 (Feb 10, 2016), for CUDA 7.0 and later</em></strong>　から　<strong><em>cuDNN v4 Library for Linux (updated October 18th,2016)</em></strong> をダウンロードして下さい<br>
このtarファイルを下記コマンドで展開する。<br>
<strong><em>Dockerの人はネイティブ環境でやって下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">tar </span>xzvf cudnn-7.0-linux-x64-v4.0-prod.tgz
</pre></div></div>

<p>んで、下記コマンドでcudnnのファイルをcudaにコピーするといいらしいです。<br>
<strong><em>Dockerの人はDockerでやって下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">sudo cp</span> <span class="nt">-a</span> cuda/lib64/<span class="k">*</span> /usr/local/cuda-8.0/lib64/
<span class="nb">sudo cp</span> <span class="nt">-a</span> cuda/include/<span class="k">*</span> /usr/local/cuda-8.0/include/
</pre></div></div>

<p>最後にldconfigをする。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">sudo </span>ldconfig
</pre></div></div>

<p>これでOKです。</p>

<h1>
<span id="5-caffeのダウンロード" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#5-caffe%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>5. Caffeのダウンロード</h1>

<p>caffeをgitからとってきます。自分の用途に合わせてどっちかを取って下さい（もしくは自分の使いたいcaffe）。　caffeは今回はホーム下に置きましょう。<br>
<strong><em>Dockerの人はネイティブ環境でgit cloneして下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>git clone <span class="nt">--recursive</span> https://github.com/BVLC/caffe.git
</pre></div></div>

<p>つまりこんなディレクトリ構造になります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>$HOME --- dev --- opencv-3.3.0
       |- caffe (py-faster-rcnn)
</pre></div></div>

<h1>
<span id="6-caffeのコンパイル" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#6-caffe%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB"><i class="fa fa-link"></i></a>6. Caffeのコンパイル</h1>

<p>Caffeはコンパイル(make)が必要なのでやります。</p>

<h2>
<span id="makefileconfigの設定" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#makefileconfig%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>Makefile.configの設定</h2>

<p><strong><em>Dockerの人はネイティブ環境でやって下さい。</em></strong><br>
まずcaffeのディレクトリに移動します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nv">$HOME</span> <span class="nt">---</span> caffe
</pre></div></div>

<p>次に、Makefile.configファイルを作ります。これがmakeで必要な設定をするファイルです。<br>
Makefile.config.exampleというファイルをMakefile.configという名前に<strong><em>cp</em></strong>します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">cp </span>Makefile.config.example Makefile.config
</pre></div></div>

<p>で、次にMakefile.configの中身を編集する必要があります。</p>

<ul>
<li>
<strong>CUDNNを使う時</strong>は CUDNN:= 1　をアンコメント</li>
<li>
<strong>CPUのみで使う時</strong>は CPU_ONLY:= 1　をアンコメント</li>
<li>
<strong>OpenCV-3.で使う時</strong>は OPENCV_VERSION:= 3 をアンコメント</li>
<li>WITH_PYTHON_LAYER:= 1をアンコメント</li>
<li>INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include 　<strong>/usr/include/hdf5/serial</strong> に書き直す</li>
<li>LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib　<strong>/usr/lib/x86_64-linux-gnu/hdf5/serial</strong>　に書き直す</li>
<li>
<strong>Dockerの人は</strong>numpyのパスがネイティブとは違うので、</li>
</ul>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>PYTHON_INCLUDE := /usr/include/python2.7 \
        /usr/lib/python2.7/dist-packages/numpy/core/include
</pre></div></div>

<p>を</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>PYTHON_INCLUDE := /usr/include/python2.7 \
        /usr/local/lib/python2.7/dist-packages/numpy/core/include
</pre></div></div>

<p>に書き直して下さい。</p>

<ul>
<li>CUDA_ARCHに関して</li>
</ul>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>CUDA_ARCH := -gencode arch=compute_20,code=sm_20 \
        -gencode arch=compute_20,code=sm_21 \
        -gencode arch=compute_30,code=sm_30 \
        -gencode arch=compute_35,code=sm_35 \
        -gencode arch=compute_50,code=sm_50 \
        -gencode arch=compute_50,code=compute_50
</pre></div></div>

<p>make中にwarningが出まくったらcompute_20とかが原因なので、消してこんな風にして下さい。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>CUDA_ARCH := -gencode arch=compute_30,code=sm_30 \
        -gencode arch=compute_35,code=sm_35 \
        -gencode arch=compute_50,code=sm_50 \
        -gencode arch=compute_50,code=compute_50
</pre></div></div>

<h2>
<span id="makeでコンパイル" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#make%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB"><i class="fa fa-link"></i></a>Makeでコンパイル</h2>

<p>で次のコマンドでmakeします。<br>
<strong><em>Dockerの人はDocker上でmakeして下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>make all <span class="nt">-j16</span>
</pre></div></div>

<p>大体一発でいくことは滅多にありません。（もしできたらすごくラッキーです！）もしできなかったら「make エラー集」を見てみてください！</p>

<h2>
<span id="python用caffeのmake" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#python%E7%94%A8caffe%E3%81%AEmake"><i class="fa fa-link"></i></a>python用caffeのmake</h2>

<p>上のmakeをあくまでC++用です。次にpython用にmakeが必要です。<br>
次のコマンドで一発です！<br>
<strong><em>Dockerの人はDocker上でmakeして下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>make pycaffe
</pre></div></div>

<p>ただし、エラーが出たら「make pycaffeエラー集」を見てみてください！</p>

<p>次の表示が出れば終了です！！</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>caffe# make pycaffe
CXX/LD <span class="nt">-o</span> python/caffe/_caffe.so python/caffe/_caffe.cpp
<span class="nb">touch </span>python/caffe/proto/__init__.py
PROTOC <span class="o">(</span>python<span class="o">)</span> src/caffe/proto/caffe.proto
caffe# 
</pre></div></div>

<p>んで、~/.bashrc ファイルに次のを追加してcaffeのパスを通します。<br>
<strong><em>ただしこっちはネイティブ環境でやっている人です。Dockerのコンテナ上でやっている人は下のを読んで下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">PYTHONPATH</span><span class="o">=</span>~/caffe/python:<span class="nv">$PYTHONPATH</span>
</pre></div></div>

<p><strong><em>ただしDockerでやっている人は、~/.bashrcを開いて、次のコードを追加して下さい。</em></strong></p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/caffe/python:<span class="nv">$PYTHONPATH</span>
</pre></div></div>

<p>そして一度ホームに戻って、sourceコマンドでパスを反映させます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">cd</span> ~
<span class="nb">source</span> .bashrc
</pre></div></div>

<h2>
<span id="caffeの動作確認" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#caffe%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>caffeの動作確認</h2>

<p>最後にcaffeの動作確認しましょう　pythonを起動して</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>hoge# python
<span class="o">&gt;&gt;</span> import caffe
<span class="o">&gt;&gt;</span>
</pre></div></div>

<p>なにもエラーが出なければ成功！！！です　おめでとうございます！</p>

<h1>
<span id="エラー集" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#%E3%82%A8%E3%83%A9%E3%83%BC%E9%9B%86"><i class="fa fa-link"></i></a>エラー集</h1>

<h2>
<span id="make-エラー" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#make-%E3%82%A8%E3%83%A9%E3%83%BC"><i class="fa fa-link"></i></a>make エラー</h2>

<p><strong>1. /usr/bin/ld: cannot find -lcblas</strong><br>
 - apt install -y libatlas-base-dev で解決</p>

<p><strong>2. Cannot find hdf5.so</strong><br>
<strong><em>Dockerの人はDocker上でやって下さい。</em></strong><br>
 - まず　apt install -y libhdf5-dev<br>
 - 次に　cd /usr/lib/x86_64-linux-gnu<br>
 - この中にlibhdf5_serial.so.#.#.# と libhdf5_serial_hl.so.#.#.# ファイルがあるはずなので、　それぞれに次のコマンドでリンクを貼る<br>
 - sudo ln -s libhdf5_serial.so.#.#.# libhdf5.so<br>
 - sudo ln -s libhdf5_serial_hl.so.#.#.# libhdf5_hl.so</p>

<p><strong>3.undefined reference cv:imencode()</strong><br>
古いcaffeだとopencvのバージョンが3を指定できません（OPENCV-VERSION:=3　がない）<br>
これでmakeすると次のエラーが出る。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>undefined reference cv:imencode<span class="o">()</span>
</pre></div></div>

<p>これは Makefile のLIBRALIESに opencv_imgcodecs を追加すると多分makeが通るようになるはずです。</p>

<p><strong>4. cannot find cublas_v2.h</strong><br>
src/caffe/parallel.cpp:2:26: fatal error: cuda_runtime.h: そのようなファイルやディレクトリはありません<br>
 #include <br>
                          ^<br>
compilation terminated.<br>
make: *** [.build_release/src/caffe/parallel.o] エラー 1<br>
make: *** 未完了のジョブを待っています....<br>
In file included from ./include/caffe/common.hpp:19:0,<br>
                 from ./include/caffe/blob.hpp:8,<br>
                 from src/caffe/blob.cpp:4:<br>
./include/caffe/util/device_alternate.hpp:34:23: fatal error: cublas_v2.h: そのようなファイルやディレクトリはありません<br>
 #include </p>

<p>なんか急にこんなエラーが出ました。これはMakefile.configのBLAS_INCLUDEとBLAS_LIBをこんな感じにして下さい。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>BLAS_INCLUDE := /usr/local/cuda/targets/x86_64-linux/include
BLAS_LIB := /usr/local/cuda/targets/x86_64-linux/lib
</pre></div></div>

<p>これでコンパイルが通ると思います。</p>

<h2>
<span id="make-pycaffe-エラー" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#make-pycaffe-%E3%82%A8%E3%83%A9%E3%83%BC"><i class="fa fa-link"></i></a>make pycaffe エラー</h2>

<p><strong>1.多分よく出るエラー</strong><br>
CXX/LD -o python/caffe/<em>caffe.so python/caffe/_caffe.cpp<br>
python/caffe/_caffe.cpp:11:31: fatal error: numpy/arrayobject.h: No such file or directory compilation terminated.<br>
Makefile:489: recipe for target 'python/caffe/</em>caffe.so' failed<br>
make: *** [python/caffe/_caffe.so] Error 1</p>

<p>ようはMakefile.configで指定したnumpyのパスが通ってないってことです。<br>
pythonを起動して次のコマンドでnumpyの位置を調べましょう。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>:~ :<span class="nv">$ </span>python
Python 2.7.13 <span class="o">(</span>default, Apr  4 2017, 08:47:57<span class="o">)</span> 
<span class="o">[</span>GCC 4.2.1 Compatible Apple LLVM 8.1.0 <span class="o">(</span>clang-802.0.38<span class="o">)]</span> on darwin
Type <span class="s2">"help"</span>, <span class="s2">"copyright"</span>, <span class="s2">"credits"</span> or <span class="s2">"license"</span> <span class="k">for </span>more information.
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> import numpy
<span class="o">&gt;&gt;&gt;</span> numpy.__file__
<span class="s1">'/usr/local/lib/python2.7/site-packages/numpy/__init__.pyc'</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div></div>

<p>これで/usr/local/libの中にあることが分かります。Makefile.configの中に</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>PYTHON_INCLUDE := /usr/include/python2.7 \
        /usr/lib/python2.7/dist-packages/numpy/core/include
</pre></div></div>

<p>があると思うので、２行目の<strong>/usr/lib</strong>を<strong>/usr/local/lib</strong>に書き直してください。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>PYTHON_INCLUDE := /usr/include/python2.7 \
        /usr/local/lib/python2.7/dist-packages/numpy/core/include
</pre></div></div>

<p>これでOKです。</p>

<h1>
<span id="7-mnistのチュートリアル" class="fragment"></span><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#7-mnist%E3%81%AE%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB"><i class="fa fa-link"></i></a>7. MNISTのチュートリアル</h1>

<p>caffeではLeNetを使ったMNISTのチュートリアルがあるので、最後に動作確認も兼ねて動かしてみましょう。</p>

<p>まずcaffeディレクトリに移動します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>hoge# cd caffe
hoge/caffe# 
</pre></div></div>

<p>ここからコマンドを３つ打つだけです！<br>
次にMNISTデータを取得します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>./data/mnist/get_mnist.sh
</pre></div></div>

<p>これをLMDBに変換します。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>./examples/mnist/create_lmdb.sh
</pre></div></div>

<p>最後に学習させます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>./examples/mnist/train_lenet.sh
</pre></div></div>

<p>これでaccuracyがどんどん上がって最終的に0.98ぐらいになれば学習がうまくいってます。<br>
もしaccuracyが上がらずに上下してるだけであれば、CUDNNがうまくいってないことが考えられます。Makefile.configのCUDNN:=1をコメントアウトしてmakeしなおして見て下さい。</p>
</div></section><div class="it-Footer"><div class="it-Footer_actions"><div class="it-Footer_editRequest"><a href="https://qiita.com/drafts/ed723a6e81c1f4046241/edit" class="u-link-no-underline"><span class="fa fa-fw fa-send"></span><span>編集リクエスト</span></a></div><div class="it-Footer_stock"><button><span class="fa fa-folder-open"></span><span class="it-Footer_stockLabel">ストック</span></button></div><div class="it-Footer_like"><button><span class="fa fa-fw fa-thumbs-up"></span><span>いいね</span></button><a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241/likers" class="it-Footer_likeCount">13</a></div></div><div class="it-Footer_social"><div class="it-Footer_shareButton it-Footer_shareButton-twitter"><span class="fa fa-twitter"></span></div><div class="it-Footer_shareButton it-Footer_shareButton-facebook"><span class="fa fa-facebook"></span></div></div></div><div class="ai-Container" itemprop="author" itemscope="true" itemtype="http://schema.org/Person"><div class="ai-User"><a href="https://qiita.com/yoyoyo_"><img src="./[12]-Caffeをインストールしたった - Qiita_files/1547531994" alt="yoyoyo_" class="ai-User_image" itemprop="image"></a><div class="ai-User_body"><div class="ai-User_header"><a href="https://qiita.com/yoyoyo_" class="ai-User_name">Yoshito Nagaoka</a><a href="https://qiita.com/yoyoyo_" class="ai-User_urlname" itemprop="name">@yoyoyo_</a></div><div class="ai-User_description">年収2000万プレーヤーになりたい両生類と爬虫類がすき
くだらないことばっかりやって最近githubに移行中</div><a href="https://github.com/yoyoyo-yo" class="ai-User_website">https://github.com/yoyoyo-yo</a><div class="ai-User_footer"><div><button class="it-UserFollowButton it-UserFollowButton-follow">フォロー</button><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body lm-Dialog"><div class="fa fa-times lm-Dialog_close"></div><div class="lm-Dialog_title">ユーザー登録して、Qiitaをもっと便利に使ってみませんか。</div><div class="lm-Dialog_message-pc">この機能を利用するにはログインする必要があります。ログインするとさらに便利にQiitaを利用できます。</div><div class="lm-Dialog_message-mobile">この機能を利用するにはログインする必要があります。ログインするとさらに便利にQiitaを利用できます。</div><ol class="lm-Dialog_list"><li>あなたにマッチした記事をお届けします<div class="description">ユーザーやタグをフォローすることで、あなたが興味を持つ技術分野の情報をまとめてキャッチアップできます</div></li><li>便利な情報をあとで効率的に読み返せます<div class="description">気に入った記事を「ストック」することで、あとからすぐに検索できます</div></li></ol><a href="https://qiita.com/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyoyoyo_&amp;realm=qiita" class="lm-Dialog_button lm-Dialog_button-signup">登録する</a><a href="https://qiita.com/login?callback_action=login_or_signup&amp;redirect_to=%2Fyoyoyo_&amp;realm=qiita" class="lm-Dialog_button lm-Dialog_button-signin">ログインする</a></div></div></div></div></div></div></div><div class="apm-Content"><div class="apm-Content_title">ユーザー登録して、Qiitaをもっと便利に使ってみませんか。</div><ol class="apm-Content_list"><li>あなたにマッチした記事をお届けします<div class="description">ユーザーやタグをフォローすることで、あなたが興味を持つ技術分野の情報をまとめてキャッチアップできます</div></li><li>便利な情報をあとで効率的に読み返せます<div class="description">気に入った記事を「ストック」することで、あとからすぐに検索できます</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>より詳しく</a></div></ol><a href="https://qiita.com/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyoyoyo_%2Fitems%2Fed723a6e81c1f4046241&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">登録する</a><a href="https://qiita.com/login?callback_action=login_or_signup&amp;redirect_to=%2Fyoyoyo_%2Fitems%2Fed723a6e81c1f4046241&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">ログインする</a></div><div><div class="it-Ads_afterBodyContainer it-Ads_afterBodyContainer-narrow"><div class="it-Ads_afterBodyWrapper"><div id="dfp-slot-after-body-for-mobile" class="ad-336x280" data-test-adunitpath="/383564218/qiita.com_items-show_under-article-mobile" data-google-query-id="CLOmwaSzveECFQOblgodhU4MyQ"><div id="google_ads_iframe_/383564218/qiita.com_items-show_under-article-mobile_0__container__" style="border: 0pt none; display: inline-block; width: 336px; height: 280px;"><iframe frameborder="0" src="./[12]-Caffeをインストールしたった - Qiita_files/container.html" id="google_ads_iframe_/383564218/qiita.com_items-show_under-article-mobile_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" width="336" height="280" data-is-safeframe="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" data-google-container-id="4" style="border: 0px; vertical-align: bottom;" data-load-complete="true"></iframe></div></div></div></div><div id="dfp-slot-after-body-for-text-ads" class="" data-test-adunitpath="/383564218/p_qiita_textad" data-google-query-id="CPz4v6SzveECFQOblgodhU4MyQ"><div id="google_ads_iframe_/383564218/p_qiita_textad_0__container__" style="border: 0pt none; width: 300px; height: 30px;"></div></div></div></div></div><div class="p-items_options"><div class="mt-2"><div id="dfp-slot-sidebar-top" class="ad-300x250" data-test-adunitpath="/383564218/qiita.com_items-show_sidebar-top" data-google-query-id="CPv4v6SzveECFQOblgodhU4MyQ"><div id="google_ads_iframe_/383564218/qiita.com_items-show_sidebar-top_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/383564218/qiita.com_items-show_sidebar-top_0" title="3rd party ad content" name="google_ads_iframe_/383564218/qiita.com_items-show_sidebar-top_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" data-amp-allowed="send-positions" style="border: 0px; vertical-align: bottom;" data-google-container-id="2" data-load-complete="true" src="./[12]-Caffeをインストールしたった - Qiita_files/saved_resource(34).html"></iframe></div></div></div></div><div class="p-items_toc"><div class="mt-2"><div id="dfp-slot-sidebar-bottom" class="ad-300x250" data-test-adunitpath="/383564218/qiita.com_items-show_sidebar-bottom" data-google-query-id="CPr4v6SzveECFQOblgodhU4MyQ"><div id="google_ads_iframe_/383564218/qiita.com_items-show_sidebar-bottom_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/383564218/qiita.com_items-show_sidebar-bottom_0" title="3rd party ad content" name="google_ads_iframe_/383564218/qiita.com_items-show_sidebar-bottom_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" data-amp-allowed="send-positions" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./[12]-Caffeをインストールしたった - Qiita_files/saved_resource(35).html"></iframe></div></div></div><div class="it-Toc"><div class="it-Toc_nav"><ul>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#%E6%89%8B%E9%A0%86">手順</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#1-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">1. パッケージインストール</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#2-opencv%E3%81%AE%E5%B0%8E%E5%85%A5c%E7%94%A8">2. OpenCVの導入(C++用)　</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#3-cuda%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89">3. CUDAのダウンロード</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#4-cudnn%E3%81%AE%E5%B0%8E%E5%85%A5">4. CUDNNの導入</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#5-caffe%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89">5. Caffeのダウンロード</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#6-caffe%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB">6. Caffeのコンパイル</a>
<ul>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#makefileconfig%E3%81%AE%E8%A8%AD%E5%AE%9A">Makefile.configの設定</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#make%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB">Makeでコンパイル</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#python%E7%94%A8caffe%E3%81%AEmake">python用caffeのmake</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#caffe%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D">caffeの動作確認</a>
</li>
</ul>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#%E3%82%A8%E3%83%A9%E3%83%BC%E9%9B%86">エラー集</a>
<ul>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#make-%E3%82%A8%E3%83%A9%E3%83%BC">make エラー</a>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#make-pycaffe-%E3%82%A8%E3%83%A9%E3%83%BC">make pycaffe エラー</a>
</li>
</ul>
</li>
<li>
<a href="https://qiita.com/yoyoyo_/items/ed723a6e81c1f4046241#7-mnist%E3%81%AE%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB">7. MNISTのチュートリアル</a>
</li>
</ul>
</div></div></div></div></div><div class="p-items_wrapper p-items_wrapper-white"><div class="p-items_container"><div class="p-items_leftDummy"></div><div class="p-items_main"><div class="p-items_aside px-5 p-2@s"><div id="logly-lift-4279493"></div></div><div class="p-items_aside mt-5 px-5 p-2@s"></div><div></div><div class="p-items_aside mt-5 px-5 p-2@s" id="comments-wrapper"></div></div><div class="p-items_rightDummy"></div></div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body lm-Dialog"><div class="fa fa-times lm-Dialog_close"></div><div class="lm-Dialog_title">ユーザー登録して、Qiitaをもっと便利に使ってみませんか。</div><div class="lm-Dialog_message-pc">この機能を利用するにはログインする必要があります。ログインするとさらに便利にQiitaを利用できます。</div><div class="lm-Dialog_message-mobile">この機能を利用するにはログインする必要があります。ログインするとさらに便利にQiitaを利用できます。</div><ol class="lm-Dialog_list"><li>あなたにマッチした記事をお届けします<div class="description">ユーザーやタグをフォローすることで、あなたが興味を持つ技術分野の情報をまとめてキャッチアップできます</div></li><li>便利な情報をあとで効率的に読み返せます<div class="description">気に入った記事を「ストック」することで、あとからすぐに検索できます</div></li></ol><a href="https://qiita.com/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyoyoyo_%2Fitems%2Fed723a6e81c1f4046241&amp;realm=qiita" class="lm-Dialog_button lm-Dialog_button-signup">登録する</a><a href="https://qiita.com/login?callback_action=login_or_signup&amp;redirect_to=%2Fyoyoyo_%2Fitems%2Fed723a6e81c1f4046241&amp;realm=qiita" class="lm-Dialog_button lm-Dialog_button-signin">ログインする</a></div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required="">スパムです</label></div><div class="st-Form"><label><input type="radio" name="reason" value="harassment" required="">攻撃的または迷惑な内容を含んでいます</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required="">不適切な内容を含んでいます</label></div><div class="st-Form st-Form-right"><input class="st-Form_submit" type="submit" value="送信"></div></form></div></div></div></div><script src="./[12]-Caffeをインストールしたった - Qiita_files/td_qt_access.js.ダウンロード" type="text/javascript"></script><script>microadTd.QT.start({"article_category": "Ubuntu,DeepLearning,Caffe"})</script><script>(function(d,u){var b=d.getElementsByTagName("script")[0],j=d.createElement("script");j.async=true;j.src=u;b.parentNode.insertBefore(j,b);})(document,"//img.ak.impact-ad.jp/ut/ff9a3577423c8ed5_4330.js");</script><noscript><iframe frameborder="0" height="0" src="//nspt.unitag.jp/ff9a3577423c8ed5_4330.php" width="0"></iframe></noscript><footer id="globalFooter" class="st-Footer px-2 px-1@s pt-1 pt-3@s pb-2"><div class="st-Footer_container"><ul class="st-Footer_start"><li class="st-Footer_link"><a class="st-Footer_copyright" href="https://increments.co.jp/">© 2011-2019 Increments Inc.</a></li><li class="st-Footer_link"><a href="https://qiita.com/terms">利用規約</a></li><li class="st-Footer_link"><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">ガイドライン</a></li><li class="st-Footer_link"><a href="https://qiita.com/privacy">プライバシー</a></li><li class="st-Footer_link"><a href="https://help.qiita.com/">ヘルプ</a></li></ul><ul class="st-Footer_end"><li class="st-Footer_link"><a href="https://qiita.com/about">Qiita とは</a></li><li class="st-Footer_link"><a href="https://qiita.com/users">ユーザー</a></li><li class="st-Footer_link"><a href="https://qiita.com/tags">タグ</a></li><li class="st-Footer_link"><a href="https://qiita.com/items">記事</a></li><li class="st-Footer_link"><a href="https://blog.qiita.com/">ブログ</a></li><li class="st-Footer_link"><a href="https://qiita.com/api/v2/docs">API</a></li><li class="st-Footer_link"><a href="https://teams.qiita.com/">Qiita:Team</a></li><li class="st-Footer_link"><a target="_blank" href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita:Zine</a></li><li class="st-Footer_link"><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">広告掲載</a></li><li class="st-Footer_link"><a href="https://qiita.com/feedback/new">ご意見</a></li></ul></div></footer></div><script type="text/javascript" charset="UTF-8">!function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this["_"+t]=this["_"+t]||[],this["_"+t].push(Array.prototype.slice.call(arguments)),this}},s=["addRecord","set","trackEvent","trackPageview","trackClicks","ready","fetchGlobalID","fetchUserSegments"],a=0;a<s.length;a++){var c=s[a];e[t].prototype[c]=r(c)}var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.treasuredata.com/sdk/1.9.2/td.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}("Treasure",this);</script><script type="text/javascript" charset="UTF-8" src="./[12]-Caffeをインストールしたった - Qiita_files/aid"></script><div class="p-messages"><div data-hyperapp-app="Message" data-hyperapp-props="{&quot;messages&quot;:[]}" data-hyperapp-mounted="true"><div class="msg-Container"></div></div></div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;mixpanelToken&quot;:&quot;17d24b448ca579c365d2d1057f3a1791&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;NBqT/NgidEyhu5NUbl7it9xJWQMGibYWck51rS48mtUOHcG8K6qaZED+nol/kcuWO/EpUq9joQALW68bNbpvUw==&quot;,&quot;locale&quot;:&quot;ja&quot;},&quot;currentUser&quot;:null}"><script>/* <![CDATA[ */
var yahoo_retargeting_id = '6B63B2EQA6';
var yahoo_retargeting_label = 'qiita';
var yahoo_retargeting_page_type = '';
var yahoo_retargeting_items = [{item_id: '', category_id: '', price: '', quantity: ''}];
/* ]]> */</script><script language="javascript" src="./[12]-Caffeをインストールしたった - Qiita_files/s_retargeting.js.ダウンロード" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script><script>twttr.conversion.trackPid('nzz0o', { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt="" height="1" src="https://analytics.twitter.com/i/adsct?txn_id=nzz0o&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" style="display:none;" width="1" /><img alt="" height="1" src="//t.co/i/adsct?txn_id=nzz0o&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" style="display:none;" width="1" /></noscript></div><div id="itm_4330" style="visibility: hidden; display: none;"></div><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct" type="text/javascript"></script><iframe id="aopb_ff9a3577423c8ed5" frameborder="0" scrolling="no" width="1" height="1" style="display: none" src="./[12]-Caffeをインストールしたった - Qiita_files/pb.html"></iframe><iframe id="google_osd_static_frame_5913337919764" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./[12]-Caffeをインストールしたった - Qiita_files/saved_resource(36).html"></iframe><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==" width="1" height="1" border="0" class="bigmining_dmp_beacon" style="display: none;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==" width="1" height="1" border="0" class="bigmining_dmp_beacon" style="display: none;"><img src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(1)" width="1" height="1" border="0" class="bigmining_dmp_beacon" style="display: none;"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-58Z82M');</script><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel.html" style="display: none;"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(1).html" style="display: none;"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(2).html" style="display: none;"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(3).html" style="display: none;"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(4).html" style="display: none;"></iframe><img src="./[12]-Caffeをインストールしたった - Qiita_files/rep" style="display: none;"><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(5).html" style="display: none;"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(6).html" style="display: none;"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(7).html" style="display: none;"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./[12]-Caffeをインストールしたった - Qiita_files/activityi.html"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(1).html"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(2).html"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(3).html"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(4).html"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(5).html"></iframe><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/pixel(8).html" style="display: none;"></iframe><div style="display: none; visibility: hidden;"><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(6).html" width="1" height="1" frameborder="0" style="display:none"></iframe></div><div style="display: none; visibility: hidden;"><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/activityi(7).html" width="1" height="1" frameborder="0" style="display:none"></iframe></div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nv2kc",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","809797712462041");fbq("track","PageView");</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","nxmb9");twq("track","PageView");</script>
</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","996402550503199");fbq("track","PageView");</script>
<noscript></noscript>

</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","954575148009345");fbq("track","PageView");</script>
<noscript></noscript>

</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","437265843064161");fbq("track","PageView");</script>
<noscript></noscript>


</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nw0lq",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nw1xy",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nw9n2",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","262978464137256");fbq("track","PageView");</script>
<noscript></noscript>


</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","256605841418458");fbq("track","PageView");</script>
<noscript></noscript>


</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","386990638325508");fbq("track","PageView");</script>
<noscript></noscript>


</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nxlif",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nxlih",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nxyp7",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("ny46g",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","1733466696949178");fbq("track","PageView");</script>
<noscript></noscript>


</div><div style="display: none; visibility: hidden;">
<script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","ny5vy");twq("track","PageView");</script>
</div><div style="display: none; visibility: hidden;"><script type="text/javascript">var _fout_queue=_fout_queue||{};void 0===_fout_queue.segment&&(_fout_queue.segment={});void 0===_fout_queue.segment.queue&&(_fout_queue.segment.queue=[]);_fout_queue.segment.queue.push({user_id:19972,advertiser_id:6796,contractor_id:5});(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://":"http://")+"js.fout.jp/segmentation.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script>
        </div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4740006retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4813012retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4813013retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4813014retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4815034retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4815035retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"4813015retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","2040876882868599");fbq("track","PageView");</script>
<noscript></noscript>


</div><div style="display: none; visibility: hidden;">
<script>!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","1469129556533591");fbq("track","PageView");</script>
<noscript></noscript>

</div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"5048036retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"5048036retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"5053023retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"5048036retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;"><script type="text/javascript">window._tfa=window._tfa||[];_tfa.push({notify:"mark",type:"5054022retargeting"});</script>
<script src="./[12]-Caffeをインストールしたった - Qiita_files/tfa.js.ダウンロード"></script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;"><script type="text/javascript">var _fout_queue=_fout_queue||{};void 0===_fout_queue.segment&&(_fout_queue.segment={});void 0===_fout_queue.segment.queue&&(_fout_queue.segment.queue=[]);_fout_queue.segment.queue.push({user_id:21947,advertiser_id:8063,contractor_id:5});(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://":"http://")+"js.fout.jp/segmentation.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script>
        
        </div><div style="display: none; visibility: hidden;">
<script type="text/javascript">!function(){if(window.SmartnewsAds=window.SmartnewsAds||{},!window.SmartnewsAds.p){var a=window.SmartnewsAds.p=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)};window.SmartnewsAds._p||(window.SmartnewsAds._p=a);a.push=a;a.version="1.0.0";a.queue=[];var b=document.createElement("script");b.async=!0;b.src="//cdn.smartnews-ads.com/i/pixel.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}();SmartnewsAds.p("c2e22923c3676a816c61d14d","PageView");</script>
<noscript></noscript></div><div style="display: none; visibility: hidden;">
<script type="text/javascript">!function(){if(window.SmartnewsAds=window.SmartnewsAds||{},!window.SmartnewsAds.p){var a=window.SmartnewsAds.p=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)};window.SmartnewsAds._p||(window.SmartnewsAds._p=a);a.push=a;a.version="1.0.0";a.queue=[];var b=document.createElement("script");b.async=!0;b.src="//cdn.smartnews-ads.com/i/pixel.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}();SmartnewsAds.p("fb5a36b36f6a47f3ae2af8c6","PageView");</script>
<noscript></noscript>

</div><div style="display: none; visibility: hidden;">
<script type="text/javascript">!function(){if(window.SmartnewsAds=window.SmartnewsAds||{},!window.SmartnewsAds.p){var a=window.SmartnewsAds.p=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)};window.SmartnewsAds._p||(window.SmartnewsAds._p=a);a.push=a;a.version="1.0.0";a.queue=[];var b=document.createElement("script");b.async=!0;b.src="//cdn.smartnews-ads.com/i/pixel.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}();SmartnewsAds.p("275a7cb2df22a72b90941e6f","PageView");</script>
<noscript></noscript>

</div><div style="display: none; visibility: hidden;">
<script type="text/javascript">!function(){if(window.SmartnewsAds=window.SmartnewsAds||{},!window.SmartnewsAds.p){var a=window.SmartnewsAds.p=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)};window.SmartnewsAds._p||(window.SmartnewsAds._p=a);a.push=a;a.version="1.0.0";a.queue=[];var b=document.createElement("script");b.async=!0;b.src="//cdn.smartnews-ads.com/i/pixel.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}();SmartnewsAds.p("5f64d149dd4731f0f0190385","PageView");</script>
<noscript></noscript>

</div><div style="display: none; visibility: hidden;">
<script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","nzdtr");twq("track","PageView");</script>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nziop",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script type="text/javascript">!function(){if(window.SmartnewsAds=window.SmartnewsAds||{},!window.SmartnewsAds.p){var a=window.SmartnewsAds.p=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)};window.SmartnewsAds._p||(window.SmartnewsAds._p=a);a.push=a;a.version="1.0.0";a.queue=[];var b=document.createElement("script");b.async=!0;b.src="//cdn.smartnews-ads.com/i/pixel.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}();SmartnewsAds.p("4fc5ab48b835653a76f95b96","PageView");</script>
<noscript></noscript></div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nznn0",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("nznn2",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","nzu0q");twq("track","PageView");</script>
</div><div style="display: none; visibility: hidden;"><script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","nve3t");twq("track","PageView");</script></div><div style="display: none; visibility: hidden;"><script type="text/javascript" language="javascript">var yahoo_retargeting_id="USSDKFK3A8",yahoo_retargeting_label="",yahoo_retargeting_page_type="",yahoo_retargeting_items=[{item_id:"",category_id:"",price:"",quantity:""}];</script>
<script type="text/javascript" language="javascript" src="./[12]-Caffeをインストールしたった - Qiita_files/s_retargeting.js.ダウンロード"></script></div><div style="display: none; visibility: hidden;">
<script src="./[12]-Caffeをインストールしたった - Qiita_files/oct.js.ダウンロード" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid("o03ez",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript></noscript>
</div><div style="display: none; visibility: hidden;">
<script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","o058w");twq("track","PageView");</script>
</div><div style="display: none; visibility: hidden;">
<script>!function(d,e,f,a,b,c){d.twq||(a=d.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],b=e.createElement(f),b.async=!0,b.src="//static.ads-twitter.com/uwt.js",c=e.getElementsByTagName(f)[0],c.parentNode.insertBefore(b,c))}(window,document,"script");twq("init","o0jpn");twq("track","PageView");</script>
</div><iframe src="./[12]-Caffeをインストールしたった - Qiita_files/beacon.html" style="display: none;"></iframe><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(2)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(3)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(4)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(5)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(7)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(8)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(9)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(10)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(11)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(12)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(13)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(14)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(15)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(16)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(17)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(18)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(6)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(19)" type="text/javascript"></script><script src="./[12]-Caffeをインストールしたった - Qiita_files/adsct(20)" type="text/javascript"></script></body></html>